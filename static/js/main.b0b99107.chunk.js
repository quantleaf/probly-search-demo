(this["webpackJsonpwww-test"]=this["webpackJsonpwww-test"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var c,a=n(0),r=n.n(a),s=n(10),i=n.n(s),o=(n(20),n(21),n(9)),d=n(11),l=n(12),u=n(15),h=n(14),j=n(6),b=n.n(j),p=n(8),x=(n(23),n(27)),f=n(28),m=n(29),O=n(13),v=n(1),g=n.e(3).then(n.bind(null,36)),y=function(){var e=Object(p.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g;case 2:return c=e.sent.search(t,n,10),e.abrupt("return",JSON.parse(c));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(e){return Object(v.jsxs)("div",{style:{display:"flex",alignItems:"start",flexDirection:"column"},children:[Object(v.jsx)("span",{style:{fontStyle:"italic"},children:"Return at most 10 results"}),Object(v.jsxs)(x.a,{responsive:!0,style:{marginTop:"20px"},children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Result"}),Object(v.jsx)("th",{children:"Score"}),Object(v.jsx)("th",{children:"Document"})]})}),Object(v.jsx)("tbody",{children:e.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.document.id}),Object(v.jsx)("td",{children:e.score}),Object(v.jsx)("td",{children:e.document.text})]},t)}))})]})]})},A=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var c;return Object(d.a)(this,n),(c=t.call(this,e)).state={loading:!0,documentsAdded:0,totalDocumentsToAdd:1},c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){console.log("load once!");var e=this;g.then((function(t){O.parse("recipe_names.csv",{download:!0,complete:function(){var n=Object(p.a)(b.a.mark((function n(c){var a,r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.setState({documentsAdded:e.state.documentsAdded,totalDocumentsToAdd:c.data.length}),a=0;case 2:if(!(a<c.data.length)){n.next=12;break}if(r=c.data[a][0],t.save(r),a%1e3!==0){n.next=9;break}return n.next=8,new Promise((function(e,t){setTimeout((function(){e(!0)}),0)}));case 8:e.setState({loading:!0,documentsAdded:a,totalDocumentsToAdd:c.data.length});case 9:a++,n.next=2;break;case 12:e.setState({loading:!1,documentsAdded:c.data.length,totalDocumentsToAdd:c.data.length});case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})}))}},{key:"render",value:function(){return this.state.loading?Object(v.jsxs)("div",{style:{fontStyle:"italic",display:"inline-flex"},children:["Adding documents \xa0",this.state.documentsAdded,"\xa0of\xa0",this.state.totalDocumentsToAdd]}):Object(v.jsxs)("div",{style:{fontStyle:"italic",display:"inline-flex"},children:["Index contains\xa0",this.state.totalDocumentsToAdd,"\xa0documents"]})}}]),n}(r.a.Component),S=[{name:"zero-to-one",value:"zero-to-one"},{name:"BM25",value:"bm25"}];var T=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)("zero-to-one"),i=Object(o.a)(s,2),d=i[0],l=i[1],u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;c=e,y(e.target.value,t).then((function(e){r(e)}))};return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsxs)("header",{className:"App-header",children:[Object(v.jsxs)("div",{style:{display:"inline-flex",flexWrap:"wrap"},children:["Recipe search demo app for\xa0",Object(v.jsx)("a",{href:"https://github.com/quantleaf/probly-search",target:"_blank",rel:"noopener noreferrer",children:"probly-search"}),"\xa0library"]}),Object(v.jsx)("div",{children:Object(v.jsx)("span",{className:"App-subheader",children:"The library is written in Rust and is running entirely in your web browser using web assembly. Source code for this demo can be found [here](https://github.com/quantleaf/probly-search-demo)"})})]}),Object(v.jsx)("div",{style:{display:"flex",flexDirection:"column",maxWidth:"500px",width:"100%",marginTop:"20px"},children:Object(v.jsxs)("div",{className:"App-box",children:[Object(v.jsx)("h5",{children:"Search"}),Object(v.jsx)(A,{}),Object(v.jsxs)("div",{className:"App-row",children:[Object(v.jsx)("input",{placeholder:"Garlic Chicken",style:{marginLeft:"20px"},onChange:u}),Object(v.jsx)(f.a,{toggle:!0,style:{marginLeft:"20px"},children:S.map((function(e,t){return Object(v.jsx)(m.a,{type:"radio",variant:"secondary",name:"radio",value:e.value,checked:d==e.value,onChange:function(e){return t=e.currentTarget.value,l(t),void(c&&u(c,t));var t},children:Object(v.jsx)("span",{children:e.name})},t)}))})]}),w(n)]})})]})},k=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,37)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};i.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(T,{})}),document.getElementById("root")),k()}},[[25,1,2]]]);
//# sourceMappingURL=main.b0b99107.chunk.js.map